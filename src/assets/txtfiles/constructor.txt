import { Component, OnInit } from "@angular/core";
import { RouterModule } from '@angular/router';

// ğŸ‘‰ ğŸ‘‰ ğŸ”´ service imports here
import { SharedService } from "../../service/shared-service.service";

// ğŸ‘‰ ğŸ‘‰ ğŸ”´ other core imports here
import { HttpClient, HttpClientModule } from '@angular/common/http';

@Component({
  selector: "app-constructor",
  standalone: true,
  imports: [RouterModule,HttpClientModule],
  templateUrl: "./constructor.component.html",
  styleUrls: ["./constructor.component.scss"]
})

export class ConstructorComponent implements OnInit {

  // ğŸ‘‰ ğŸ‘‰ ğŸŸ¢ class level variables
  tsCode: string = '';
  count = 0; // ğŸŸ¢ class-level variable

  // ğŸ‘‰ ğŸ‘‰ ğŸ”´ Inject the service in the constructor

  constructor(private sharedService: SharedService, 
   // ğŸ‘‰ ğŸ‘‰ ğŸ”µ Initializing non-Angular libraries or utilities or core features
  private http: HttpClient,
  private router: Router,
  private route: ActivatedRoute,
  private elementRef: ElementRef,
  private renderer: Renderer2
  ) { 
        console.log('Constructor called');
  }

  ngOnInit() {
    // ğŸ‘‰ ğŸ‘‰ ğŸ”´ Safe to use the service now
    this.sharedService.setData('User from Constructor Component');

    // ğŸ‘‰ ğŸ‘‰ ğŸŸ¢ below code is for displaying typescript in html so we created a txt file and map to class-level variable
     this.http.get('../../../assets/txtfiles/constructor.txt', { responseType: 'text' })
      .subscribe(code => this.tsCode = code);

    const localCount = 10; // local variable
    console.log(localCount); // âœ… Works
    console.log(this.count); // âœ… Works
  }

 anotherMethod() {
 // ğŸ‘‰ ğŸ‘‰ ğŸŸ¢ class level variables
    console.log(this.count); // âœ… Works
    // console.log(localCount); âŒ Error: localCount not defined here
  }
}
