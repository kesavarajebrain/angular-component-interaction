<div class="container mt-3">
    <p routerLink="/lifecycle-hooks">
        <a class="pe-auto text-secondary text-decoration-none"><-Back </a>
    </p>
    <h4 class="text-primary">ngDoCheck()</h4>
    <p>ğŸ‘‰ ngDoCheck() <b>(the â€œcustom change detectorâ€ of Angular)</b> is a lifecycle hook that runs during every change
        detection cycle â€” after Angular runs its own internal checks (for &#64;Input, event updates, etc.). <br>
        Itâ€™s like Angular giving you a chance to â€œmanually check or reactâ€ to something that Angularâ€™s default change
        detection might not detect automatically.
    </p>
    <app-hooks-order></app-hooks-order>
    <div class="container card mt-3 p-3 mb-3">
        <div class="alert alert-info">
            <p><b>When is it called?</b></p>
            <p>It runs every time change detection happens. That means it runs when:</p>
            <ul>
                <li>An input property changes
                </li>
                <li>A user types in a textbox
                </li>
                <li>An event like (click) happens
                </li>
                <li>A timer (setTimeout, setInterval) changes data
                </li>
                <li>Even when you call detectChanges() manually
                </li>
                <li>So, itâ€™s called very often â€” even more than ngOnChanges()
                </li>
            </ul>
        </div>
        <div class="alert alert-primary">
            <p><b>Why do we need ngDoCheck?</b></p>
            <p>Sometimes, Angular canâ€™t detect deep changes inside complex objects or arrays.</p>
            <pre>
                // in parent component we are passing the data to child
                &#64;Input() user = [name: 'Kesava', age: 30 ];

                // we change the name in parent like below
                this.user.name = 'Raj';

Angular wonâ€™t detect this, because the object reference hasnâ€™t changed â€” only its internal property.
â¡ï¸ In such cases, ngOnChanges() wonâ€™t trigger.
âœ… But ngDoCheck() will, so you can manually compare the new and old values and react.
            </pre>
        </div>
        <div class="container">
            <p><b>Example :</b></p>
            <div class="row alert alert-info">
                <div class="col-4">
                    <div class="card p-2">
                        <b>Child Component</b>
                        <app-child [user]="user"></app-child><br>
                    </div>
                    <div class="alert alert-secondary mt-3 p-2">
                        <b>Parent Component</b> <br> <br>
                        <input type="text" [(ngModel)]="formValue.name" class="form-control" placeholder="Enter name" />
                        <br>
                        <button (click)="changeName()" class="btn btn-sm btn-primary">Change Name</button> <br> <br>
                        <button (click)="replaceUser()" class="btn btn-sm btn-info">Replace User</button>
                    </div>
                    <p>Check console logs!</p>
                </div>
                <div class="col-8">
                    <pre>
                        {{tsCode}}
                    </pre>
                </div>
            </div>
        </div>
        <div class="card p-2">
            <div>
                <pre>
<b>ğŸš« Restrictions / Things to Watch</b>

âŒ Donâ€™t do heavy computations or HTTP calls inside ngDoCheck() â€” it runs a lot, so that would slow the app down.
âŒ Donâ€™t mutate state inside it (that can cause an infinite loop).
âœ… Use it only for custom change detection â€” comparing old vs new values manually.

ğŸ§© Simple Analogy

Think of Angular change detection as a teacher checking homework (ngOnChanges).
But if you donâ€™t change your notebook (just change a page inside it), the teacher wonâ€™t notice.
So you (developer) can open the notebook yourself and check inside manually â€” thatâ€™s ngDoCheck() ğŸ˜„

à®‡à®¨à¯à®¤ à®®à®¾à®¤à®¿à®°à®¿ à®¨à®¿à®©à¯ˆà®šà¯à®šà®¾ easy-à®† à®ªà¯à®°à®¿à®¯à¯à®®à¯ ğŸ‘‰
ngOnChanges() â†’ à®µà¯†à®³à®¿à®¯à¯‡ object à®®à®¾à®±à¯à®®à¯à®ªà¯‹à®¤à¯
ngDoCheck() â†’ à®‰à®³à¯à®³à¯‡ value à®®à®¾à®±à¯à®®à¯à®ªà¯‹à®¤à¯
                </pre>
            </div>
        </div>
    </div>
</div>