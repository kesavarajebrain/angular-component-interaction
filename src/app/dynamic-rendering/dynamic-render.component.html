<div class="container mt-3">
    <p routerLink="/">
        <a class="pe-auto text-secondary text-decoration-none"><-Back </a>
    </p>
    <h4>Dynamic UI Rendering</h4>
    <ul>
        <li>ng-content - WHAT comes in</li>
        <li>ng-template - WHAT can render</li>
        <li>TemplateRef - POINTER to template</li>
        <li>ViewContainerRef - WHERE it renders</li>
        <li>ng-container - NO extra DOM</li>
        <li>ngTemplateOutlet - ngTemplateOutlet is a declarative way to render an ng-template in the template itself ‚Äî
            without using ViewContainerRef</li>
    </ul>
    <div class="row">
        <div class="col alert alert-success">
            <b>ng-content</b>
            <ul>
                <li>Injected external HTML (header/body/footer)</li>
                <li>Makes component reusable & flexible</li>
                <li>Parent-‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ content inject ‡Æ™‡Æ£‡Øç‡Æ£‚Äù</li>
            </ul>
        </div>
        <div class="col alert alert-warning">
            <b>ng-template</b>
            <ul>
                <li>Defined views that don‚Äôt render immediately</li>
                <li>HTML-‡Æê define ‡Æ™‡Æ£‡Øç‡Æ£‡Æø ‡Æµ‡Øà‡Æï‡Øç‡Æï‡Æ±‡Æ§‡ØÅ, Angular ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç‡Æ©‡Ææ ‡ÆÆ‡Æü‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç render ‡Æ™‡Æ£‡Øç‡Æ£‡ØÅ‡ÆÆ‡Øç</li>
            </ul>
        </div>
        <div class="col alert alert-primary">
            <b>TemplateRef</b>
            <ul>
                <li>References those templates in TS</li>
                <li>Lets us say ‚Äúrender THIS template now‚Äù</li>
                <li>‚Äúng-template-‡Æï‡Øç‡Æï‡ØÅ reference‚Äù</li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-4 alert alert-danger">
            <b>ViewContainerRef</b>
            <ul>
                <li>Controls WHERE the template is rendered</li>
                <li>Enables dynamic UI switching</li>
                <li>‚ÄúUI render ‡ÆÜ‡Æï‡ØÅ‡Æ± ‡Æá‡Æü‡ÆÆ‡Øç‚Äù</li>
            </ul>
        </div>
        <div class="col-4 alert alert-info">
            <b>ng-container</b>
            <ul>
                <li>Groups projected content</li>
                <li>Adds zero DOM elements</li>
                <li>Logic ‡Æµ‡Øá‡Æ£‡ØÅ‡ÆÆ‡Øç, markup ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡Ææ‡ÆÆ‡Øç ‚Üí ng-container</li>
            </ul>
            <p>
                &#11164;div *ngIf="condition"&#11166; // here DIV is an extra wrapper , its creating DOM <br>
                &#11164;p&#11166;Some Content&#11164;/p&#11166; <br>
                &#11164;/div&#11166; <br> <br>

                &#11164;ng-container *ngIf="condition"&#11166; // Now here if we add *ngIf condition -> NO EXTRA DOM
                <br>
                &#11164;p&#11166;Some Content&#11164;/p&#11166; <br>
                &#11164;/ng-container&#11166;
            </p>
        </div>
        <div class="col-4 alert alert-dark">
            <b>ngTemplateOutlet</b>
            <ul>
                <li>ngTemplateOutlet is HTML-level dynamic rendering</li>
                <li>This is like a template switch</li>
                <li>No TS logic needed</li>
            </ul>
            <p>
                üî•<b>ngTemplateOutlet</b> vs <b>ViewContainerRef</b> <br> <br>
                <b>ngTemplateOutlet</b> <br>

                * Declarative <br>
                * Lives in HTML <br>
                * Angular controls lifecycle <br>
                * Best for simple dynamic UI <br> <br>

                <b>ViewContainerRef</b> <br>

                * Imperative <br>
                * Lives in TS <br>
                * You control lifecycle <br>
                * Best for complex / programmatic UI <br>
            </p>
        </div>
    </div>
    <div class="container alert alert-primary">
        <div class="row">
            <h5>Example : 1</h5>
            <h6>Dynamic View Rendering (Same Component)</h6>
            <div class="col">
                <!-- üîò CONTROLS -->
                <button class="btn btn-info" (click)="showDefault()">Default</button> &nbsp;
                <button class="btn btn-primary" (click)="showLoading()">Loading</button> &nbsp;
                <button class="btn btn-danger" (click)="showError()">Error</button> &nbsp;
                <button class="btn btn-warning" (click)="showCustom()">Custom template</button>
            </div>
            <div class="col">

                <!-- üëá UI WILL APPEAR HERE -->
                <ng-template #container></ng-template>

                <!-- ‚úÖ DEFAULT TEMPLATE -->
                <ng-template #defaultTpl>
                    <!-- ng-container = NO EXTRA DOM -->
                    <ng-container>
                        <div style="border:1px solid green; padding:10px;">
                            <strong>Success!</strong> Profile updated.
                        </div>
                    </ng-container>
                </ng-template>

                <!-- ‚è≥ LOADING TEMPLATE -->
                <ng-template #loadingTpl>
                    Loading... please wait
                </ng-template>

                <!-- ‚ùå ERROR TEMPLATE -->
                <ng-template #errorTpl>
                    <div style="border:1px solid red; padding:10px;">
                        Something went wrong!
                    </div>
                </ng-template>

                <!--  Custom TEMPLATE -->
                <ng-template #customTemplate>
                    <div style="border:1px solid rgb(255, 0, 200); padding:10px;">
                        Welcome to angular tutorial!
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
    <div class="container alert alert-info">
        <div class="row">
            <h5>Example : 2</h5>
            <h6>Dynamic View Rendering (Parent to Child Component)</h6>

            <div class="col">
                <h5>Parent Component</h5>
                <button class="btn btn-info" (click)="childComponent.showLoading()">Show Loading</button> &nbsp;
                <button class="btn btn-danger" (click)="childComponent.showError()">Show Error</button> &nbsp;
                <button class="btn btn-success" (click)="childComponent.showDefault()">Show Success</button>
            </div>
            <div class="col">
                <app-child-component #childComponent>
                    <strong>Default Content from Parent : Profile updated successfully!</strong>
                </app-child-component>
            </div>
        </div>
    </div>
    <div class="container alert alert-primary">
        <div class="row">
            <h5>Example : 3</h5>
            <h6>Global modal using ViewContainerRef - here we are injecting current page content to the modal, we can do
                it from any page </h6>
            <div class="col">
                <button class="btn btn-dark" (click)="openModal()">Open Modal</button>
            </div>
        </div>
    </div>
    <div class="container alert alert-info">
        <div class="row">
            <h5>Example : 4</h5>
            <h6>ngTemplateOutlet</h6>
            <div class="col">
                <pre>
&#11164;ng-template #success&#11166; Success message &#11164;/ng-template&#11166;
&#11164;ng-template #failure&#11166; Failure message &#11164;/ng-template&#11166;
&#11164;ng-template #default&#11166; Default message &#11164;/ng-template&#11166;

&#11164;ng-container *ngTemplateOutlet="
    status === 'success' ? success :
    status === 'error' ? error :
    default"" &#11166; <br> &#11164;/ng-container&#11166;

    **************

&#11164;ng-template #userTpl let-name let-age="age"&#11166;
  &#11164;p&#11166;&#123;name&#125; - &#123; age &#125;&#11164;/p&#11166;
&#11164;/ng-template&#11166;

&#11164;ng-container
  *ngTemplateOutlet="userTpl; context:  &#123; $implicit: 'Kesava', age: 29  &#125;"&#11166;
&#11164;/ng-container&#11166;
                </pre>
            </div>
            <div class="col">
                <select class="form-select" name="status" [(ngModel)]="status" aria-label="Default select example">
                    {{status}}
                    <option value="">Default</option>
                    <option value="success">Success Template</option>
                    <option value="error">Error Template</option>
                </select>
                <br>
                <ng-template #default>
                    <ng-container>
                        <p class="alert alert-secondary">This is default template</p>
                    </ng-container>
                </ng-template>
                <ng-template #success>
                    <ng-container>
                        <p class="alert alert-success">This is Success template</p>
                    </ng-container>
                </ng-template>
                <ng-template #error>
                    <ng-container>
                        <p class="alert alert-danger">This is Error template</p>
                    </ng-container>
                </ng-template>

                <ng-container *ngTemplateOutlet="
    status === 'success' ? success :
    status === 'error' ? error :
    default">
                </ng-container>
                <p>*****************</p>
                <ng-template #userTpl let-name let-age="age">
                    <p>{{ name }} - {{ age }}</p>
                </ng-template>

                <ng-container *ngTemplateOutlet="userTpl; context: { $implicit: 'Kesava', age: 30 }">
                </ng-container>

                <p>Components use &#64;Input(), Templates use context <br>
                    üß† One-line memory (keep this) <br>
                    $implicit = default value <br>
                    let-age="29" = map from context.age</p>
                <p>*********Render Dynamic data(from TS file)**********</p>
                <ng-template #userListTpl let-user>
                    <p>{{ user.name }} - {{ user.age }}</p>
                </ng-template>
                <ng-container *ngFor="let user of users">
                    <ng-container *ngTemplateOutlet="
      userListTpl;
      context: { $implicit: user }
    ">
                    </ng-container>
                </ng-container>
            </div>
        </div>
    </div>
    <div class="container alert alert-warning">
        <pre>{{tsCode}}</pre>
    </div>
    <div class="container alert alert-info">
        <pre>{{modalCode}}</pre>
    </div>
</div>